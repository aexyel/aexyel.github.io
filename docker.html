<!DOCTYPE html>

<HTML>

<HEAD>
<TITLE>aexyel - Docker</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<meta http-equiv="Content-Language" content="ru" />
<link rel="stylesheet" type="text/css" href="stylesheet.css">
</HEAD>

<BODY>

<header>
<nav>
[<a class="nav-btn" href="index.html">Главная</a>]
[<a class="nav-btn" href="linux.html">Linux</a>]
[<a class="nav-btn" href="openbsd.html">OpenBSD</a>]
[<a class="nav-btn" href="git.html">Git</a>]
[<a class="nav-btn" href="docker.html">Docker</a>]
[<a class="nav-btn" href="oops.html">Jenkins</a>]
</nav>
<hr>
</header>

<h1 id="docker">
Docker
</h1>

<ul>
  <li><a href="#dockersite">Docker</a>
  <li><a href="#matiashov">Основы Docker. Большой практический выпуск</a>
  <li><a href="#gogogo">Вперёд!</a>
</ul>

<h2 id="dockersite">Docker</h2>

<table border="0">

<tr>
<td valign="top" align="right">
Сайт Docker :
</td>
<td valign="top">
<a href="https://">https://</a>
</td>
</tr>

<tr>
<td valign="top" align="right">
Загрузки :
</td>
<td valign="top">
<a href="https://">https://</a>
</td>
</tr>

<tr>
<td valign="top" align="right">
Документация :
</td>
<td valign="top">
<a href="https://">https://</a>
</td>
</tr>

<tr>
<td valign="top" align="right">
Описание команд :
</td>
<td valign="top">
<a href="https://">https://</a>
</td>
</tr>

</table>

<small>
<hr>
[<a href="#docker">Наверх</a>]
</small>

<h2 id="matiashov">
Артем Матяшов<br>
Основы Docker. Большой практический выпуск
</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/QF4ZF857m44" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br>
[<a href="https://www.youtube.com/watch?v=QF4ZF857m44">Ссылка</a>]

<hr>

<h2 id="stashchuk">
Bogdan Stashchuk<br>
Docker - Полный курс Docker Для Начинающих [3 ЧАСА]
</h2>
[<a href="https://www.youtube.com/watch?v=_uZQtRyF6Eg">Ссылка</a>]

<hr>

<h3>После просмотра обоих видео нарисовалась такая картинка:</h3>

<img src="img/Docker.png" alt="[Docker schema]">

<h3>И конспект:</h3>

<pre>

Docker - запуск не ВМ, а приложения со всеми его зависимостями.


ToDo: install docker
ToDo: install vscode + docker plugin


$ docker version


Образы приложений

Dockerfile:

FROM iname
RUN
WORKDIR /app
COPY . .
EXPOSE
ENV
CMD ["command", "arg"] | ENTRYPOINT

$ docker build .
-t iname[:OptTag]
-f DockerFileName

$ docker images

$ docker run iname
--name cname
-d - run detached
-it - интерактивный терминал
--rm - remove after stop
-p hport:cport
-e env
-v hdir:cdir

$ docker ps
$ docker ps -a

$ docker container inspect cid|cname

port mapping = 0.0.0.0:hport->cport/tcp
0.0.0.0 нужно закрывать файрволом!
? hostip


$ docker exec -it cid process - запустить process в к.

process="sh":
# hostname
# hostname -i - ip address = 172.17.0.x - docker network


$ docker logs cid - просмотр лога контейнера

$ docker stop cID|name
$ docker kill cid|cname - принудительное завершение


$ docker rm cID|cname
$ docker rm $(docker ps -a -q)

$ docker container prune - удаление остановленных контейнеров


$ docker rmi iID|iname
$ docker rmi $(docker images -q)


Volumes:

$ docker volume ls
$ docker volume create vname

$ docker run -v vname:cdir ...


Docker hub:

docker build -t login/iname .
docker login
docker push  login/iname


Docker Compose:

ToDo: install docker-compose
ToDo: install Docker Desktop

+ конфигурация и параметры запуска нескольких контейнеров, работающих совместно
+ изоляция подсети с контейнерами docker-compose
+ в к. можно использовать DNS-имена сервисов

docker-compose.yml
version: '3'
services:
 svc1:
  build: ./app-dir (с Dockerfile внутри)
 svc2:
  image: iname

build | image - образ создать или взять из docker-hub


$ docker-compose up
-d - run detached
--build - перестроить образы


$ docker-compose down - остановить и удалить к. и сеть

</pre>

<small>
<hr>
[<a href="#docker">Наверх</a>]
</small>

<h2 id="gogogo">Вперёд!</h2>

<h3>Приготовились?</h3>
<p>
Вы запись А.Матяшова посмотрели?
</p>

<p>
...а я в третий раз ещё НЕТ. Продолжение следует.
</p>

<small>
<hr>
[<a href="index.html">Главная</a>]
[<a href="#docker">Наверх</a>]
</small>

</BODY>

</HTML>
